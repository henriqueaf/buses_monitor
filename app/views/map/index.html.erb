<% content_for :head do %>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin="">
  </script>
<% end %>

<div data-controller="map">
  <div id="map" />

  <div id="map-action-button">
    <button data-action="click->map#fitMapToMarkers" type="button" class="btn btn-primary shadow">
      <i class="bi bi-arrows-fullscreen me-2"></i><%= t('map.buses_fit_zoom') %>
    </button>
  </div>
</div>

<div id="map-instructions-panel" class="card shadow-sm bg-info-subtle">
  <div class="card-body">
    <p class="mb-0 card-text">
      <i class="bi bi-info-circle"></i>
      <%= t('map.update_interval', interval: ENV['REQUEST_BRT_BUSES_INTERVAL_SECONDS']) %>
    </p>
  </div>
</div>
